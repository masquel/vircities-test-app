!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.app=e()}}(function(){return function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return i(n?n:e)},d,d.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({"./src/js/app.js":[function(e,t,n){"use strict";var r="vircities-search",i="."+r,s="vircitiesMessages",o=new RegExp(/^#(\[[^\]]+\]|\S+)([\s\S]*)?/),a=document.querySelector(i+"__input"),u=document.querySelector(i+"__button"),c=document.querySelector(i+"__result"),d=document.querySelector(i+"__message"),f=function(e,t){var n={tag:e,message:t},r=localStorage[s];r=JSON.parse(r),r.push(n),r=JSON.stringify(r),localStorage[s]=r},l=function(e){var t=localStorage[s];return t=JSON.parse(t),t.filter(function(t){return t.tag===e})},p=function(e){var t=l(e);if(t.length>0){var n=t.map(function(e){return'<div class="'+r+'__result-item">\n\t\t\t\t\t\t<strong>#'+e.tag+"</strong> "+e.message+"\n\t\t\t\t\t</div>"});c.innerHTML=n.join(""),c.classList.remove(r+"__result--hidden")}else v()},v=function(){c.classList.add(r+"__result--hidden")},g=function(e){return!!o.test(e)&&e.match(o)},m=function(e){var t=e.target.value,n=g(t);"undefined"==typeof n[2]&&n?p(n[1]):v()},_=function(e){e.preventDefault();var t=g(a.value);t&&"undefined"!=typeof t[2]&&""!==t[2].trim()?(f(t[1],t[2].trim()),d.classList.remove(r+"__message--hidden"),d.innerHTML='<div class="'+r+'__message-success">Сообщение успешно добавлено в localStorage</div>',d.style.opacity=1,setTimeout(function(){d.style.opacity=0},1700),setTimeout(function(){d.classList.add(r+"__message--hidden")},3e3),a.value=""):(d.classList.remove(r+"__message--hidden"),d.innerHTML='<div class="'+r+'__message-error">Неверный формат: #тег сообщение</div>',d.style.opacity=1,setTimeout(function(){d.style.opacity=0},1700),setTimeout(function(){d.classList.add(r+"__message--hidden")},3e3))},y=function(e){e.preventDefault(),13==e.keyCode&&u.click()},S=function(){"undefined"==typeof localStorage[s]&&(localStorage[s]="[]"),v(),a.addEventListener("input",m),a.addEventListener("change",m),a.addEventListener("keyup",y),u.addEventListener("click",_)};S()},{}]},{},["./src/js/app.js"])("./src/js/app.js")});
//# sourceMappingURL=app.min.js.map
